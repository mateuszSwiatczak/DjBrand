{"ast":null,"code":"// @ts-check\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _get = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    _again = false;\n    if (object === null) object = Function.prototype;\n    var desc = Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        desc = parent = undefined;\n        continue _function;\n      }\n    } else if ('value' in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes); // travis demands that test be\n// \"test\": \"echo 'no tests yet'\",\n// instead of test: jest\n\n\nvar truthy = function truthy(el) {\n  return ![false, undefined, null].includes(el);\n};\n\nvar OnImagesLoaded = function (_Component) {\n  _inherits(OnImagesLoaded, _Component);\n\n  function OnImagesLoaded(props) {\n    _classCallCheck(this, OnImagesLoaded);\n\n    _get(Object.getPrototypeOf(OnImagesLoaded.prototype), 'constructor', this).call(this, props);\n\n    this.state = {\n      loaded: false,\n      loadCounter: 0,\n      imageCount: 0\n    };\n    this._onLoadEvent = this._onLoadEvent.bind(this);\n  }\n\n  _createClass(OnImagesLoaded, [{\n    key: 'timingSetup',\n    value: function timingSetup() {\n      var _props = this.props;\n      var onWillMount = _props.onWillMount;\n      var delay = _props.delay;\n      var timeout = _props.timeout;\n      onWillMount ? onWillMount() : null;\n      var tempTimeout = timeout;\n      var tempDelay = delay;\n      tempTimeout = truthy(tempTimeout) ? tempTimeout : 7000;\n      this._delay = truthy(tempDelay) ? tempDelay : 0;\n      this._timeout = Math.max(tempTimeout, this._delay);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n      this._imgs.length > 0 ? this._removeImageEventListeners() : null;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props2 = this.props;\n      var onLoaded = _props2.onLoaded;\n      var onTimeout = _props2.onTimeout;\n      var onDidMount = _props2.onDidMount;\n      this.timingSetup();\n      this.mounted = true;\n      this._imgs = this.imageLoad.getElementsByTagName('img');\n\n      if (this._imgs.length === 0) {\n        if (onLoaded) {\n          onLoaded();\n        } else if (onTimeout) {\n          onTimeout();\n        }\n      } else {\n        onDidMount ? onDidMount() : null;\n\n        this._addImageEventListeners();\n\n        this._setOnTimeoutEvent();\n      }\n    }\n  }, {\n    key: '_addImageEventListeners',\n    value: function _addImageEventListeners() {\n      var _this = this;\n\n      this.setState({\n        imageCount: this._imgs.length\n      }, function () {\n        for (var i = 0; i < _this._imgs.length; i++) {\n          _this._imgs[i].addEventListener('load', _this._onLoadEvent);\n        }\n      });\n    }\n  }, {\n    key: '_removeImageEventListeners',\n    value: function _removeImageEventListeners() {\n      for (var i = 0; i < this._imgs.length; i++) {\n        this._imgs[i].removeEventListener('load', this._onLoadEvent);\n      }\n    }\n  }, {\n    key: '_setOnTimeoutEvent',\n    value: function _setOnTimeoutEvent() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2._hasTimedOut ? _this2._runOnTimeoutFunction() : null;\n      }, this._timeout);\n    }\n  }, {\n    key: '_runOnTimeoutFunction',\n    value: function _runOnTimeoutFunction() {\n      var _this3 = this;\n\n      if (this.mounted) {\n        (function () {\n          var _props3 = _this3.props;\n          var onTimeout = _props3.onTimeout;\n          var onLoaded = _props3.onLoaded;\n\n          _this3.setState({\n            loaded: true\n          }, function () {\n            if (onTimeout) {\n              onTimeout();\n            } else if (onLoaded) {\n              onLoaded();\n            }\n          });\n        })();\n      }\n    }\n  }, {\n    key: '_onLoadEvent',\n    value: function _onLoadEvent() {\n      var _this4 = this;\n\n      if (this.mounted) {\n        this.setState({\n          loadCounter: this.state.loadCounter + 1\n        }, function () {\n          setTimeout(function () {\n            _this4._hasBeenFullyAndProperlyLoaded ? _this4._runOnLoadFunction() : null;\n          }, _this4._delay);\n        });\n      }\n    }\n  }, {\n    key: '_runOnLoadFunction',\n    value: function _runOnLoadFunction() {\n      var _this5 = this;\n\n      if (this.mounted) {\n        (function () {\n          var onLoaded = _this5.props.onLoaded;\n\n          _this5.setState({\n            loaded: true,\n            timedOut: false\n          }, function () {\n            onLoaded ? onLoaded() : null;\n          });\n        })();\n      }\n    }\n  }, {\n    key: '_depreciatedClassNameHandler',\n    value: function _depreciatedClassNameHandler() {\n      var _props4 = this.props;\n      var className = _props4.className;\n      var classNameOnLoaded = _props4.classNameOnLoaded;\n      var classNameOnMount = _props4.classNameOnMount;\n\n      if (className) {\n        return className;\n      } else if (!this.state.loaded) {\n        return classNameOnMount;\n      } else {\n        return classNameOnLoaded;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      if (this.imageLoad && this._hasDefinedClassName) {\n        this.imageLoad.className = this._depreciatedClassNameHandler();\n      }\n\n      return _react2['default'].createElement('div', null, this.state.loaded ? null : this.props.placeholder, _react2['default'].createElement('div', {\n        ref: function (ctx) {\n          _this6.imageLoad = ctx;\n        }\n      }, this.props.children));\n    }\n  }, {\n    key: '_hasBeenFullyAndProperlyLoaded',\n    get: function get() {\n      var _state = this.state;\n      var loadCounter = _state.loadCounter;\n      var imageCount = _state.imageCount;\n      var loaded = _state.loaded;\n      return this.mounted && loadCounter >= imageCount && !loaded;\n    }\n  }, {\n    key: '_hasTimedOut',\n    get: function get() {\n      return this.mounted && !this.state.loaded;\n    }\n  }, {\n    key: '_hasDefinedClassName',\n    get: function get() {\n      var _props5 = this.props;\n      var classNameOnLoaded = _props5.classNameOnLoaded;\n      var classNameOnMount = _props5.classNameOnMount;\n      var className = _props5.className;\n      return !!(classNameOnLoaded || classNameOnMount || className);\n    }\n  }]);\n\n  return OnImagesLoaded;\n}(_react.Component);\n\nexports['default'] = OnImagesLoaded;\nOnImagesLoaded.propTypes = {\n  onTimeout: _propTypes2['default'].func,\n  onLoaded: _propTypes2['default'].func.isRequired,\n  delay: _propTypes2['default'].number,\n  // depreciated\n  onDidMount: _propTypes2['default'].func,\n  onWillMount: _propTypes2['default'].func,\n  classNameOnLoaded: _propTypes2['default'].string,\n  classNameOnMount: _propTypes2['default'].string,\n  className: _propTypes2['default'].string\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/home/dj_brand/Desktop/Projects/DJBRAND/frontend/node_modules/react-on-images-loaded/lib/OnImagesLoaded.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_get","get","_x","_x2","_x3","_again","_function","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","call","_interopRequireDefault","obj","__esModule","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_react","require","_react2","_propTypes","_propTypes2","truthy","el","includes","OnImagesLoaded","_Component","state","loaded","loadCounter","imageCount","_onLoadEvent","bind","timingSetup","_props","onWillMount","delay","timeout","tempTimeout","tempDelay","_delay","_timeout","Math","max","componentWillUnmount","mounted","_imgs","_removeImageEventListeners","componentDidMount","_props2","onLoaded","onTimeout","onDidMount","imageLoad","getElementsByTagName","_addImageEventListeners","_setOnTimeoutEvent","_this","setState","addEventListener","removeEventListener","_this2","setTimeout","_hasTimedOut","_runOnTimeoutFunction","_this3","_props3","_this4","_hasBeenFullyAndProperlyLoaded","_runOnLoadFunction","_this5","timedOut","_depreciatedClassNameHandler","_props4","className","classNameOnLoaded","classNameOnMount","render","_this6","_hasDefinedClassName","createElement","placeholder","ref","ctx","children","_state","_props5","Component","propTypes","func","isRequired","number","string","module"],"mappings":"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","sourcesContent":["// @ts-check\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n// travis demands that test be\n// \"test\": \"echo 'no tests yet'\",\n// instead of test: jest\n\nvar truthy = function truthy(el) {\n\treturn ![false, undefined, null].includes(el);\n};\n\nvar OnImagesLoaded = (function (_Component) {\n\t_inherits(OnImagesLoaded, _Component);\n\n\tfunction OnImagesLoaded(props) {\n\t\t_classCallCheck(this, OnImagesLoaded);\n\n\t\t_get(Object.getPrototypeOf(OnImagesLoaded.prototype), 'constructor', this).call(this, props);\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\tloadCounter: 0,\n\t\t\timageCount: 0\n\t\t};\n\t\tthis._onLoadEvent = this._onLoadEvent.bind(this);\n\t}\n\n\t_createClass(OnImagesLoaded, [{\n\t\tkey: 'timingSetup',\n\t\tvalue: function timingSetup() {\n\t\t\tvar _props = this.props;\n\t\t\tvar onWillMount = _props.onWillMount;\n\t\t\tvar delay = _props.delay;\n\t\t\tvar timeout = _props.timeout;\n\n\t\t\tonWillMount ? onWillMount() : null;\n\t\t\tvar tempTimeout = timeout;\n\t\t\tvar tempDelay = delay;\n\n\t\t\ttempTimeout = truthy(tempTimeout) ? tempTimeout : 7000;\n\t\t\tthis._delay = truthy(tempDelay) ? tempDelay : 0;\n\t\t\tthis._timeout = Math.max(tempTimeout, this._delay);\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\tthis.mounted = false;\n\t\t\tthis._imgs.length > 0 ? this._removeImageEventListeners() : null;\n\t\t}\n\t}, {\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _props2 = this.props;\n\t\t\tvar onLoaded = _props2.onLoaded;\n\t\t\tvar onTimeout = _props2.onTimeout;\n\t\t\tvar onDidMount = _props2.onDidMount;\n\n\t\t\tthis.timingSetup();\n\t\t\tthis.mounted = true;\n\t\t\tthis._imgs = this.imageLoad.getElementsByTagName('img');\n\t\t\tif (this._imgs.length === 0) {\n\t\t\t\tif (onLoaded) {\n\t\t\t\t\tonLoaded();\n\t\t\t\t} else if (onTimeout) {\n\t\t\t\t\tonTimeout();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonDidMount ? onDidMount() : null;\n\t\t\t\tthis._addImageEventListeners();\n\t\t\t\tthis._setOnTimeoutEvent();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_addImageEventListeners',\n\t\tvalue: function _addImageEventListeners() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.setState({ imageCount: this._imgs.length }, function () {\n\t\t\t\tfor (var i = 0; i < _this._imgs.length; i++) {\n\t\t\t\t\t_this._imgs[i].addEventListener('load', _this._onLoadEvent);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_removeImageEventListeners',\n\t\tvalue: function _removeImageEventListeners() {\n\t\t\tfor (var i = 0; i < this._imgs.length; i++) {\n\t\t\t\tthis._imgs[i].removeEventListener('load', this._onLoadEvent);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_setOnTimeoutEvent',\n\t\tvalue: function _setOnTimeoutEvent() {\n\t\t\tvar _this2 = this;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t_this2._hasTimedOut ? _this2._runOnTimeoutFunction() : null;\n\t\t\t}, this._timeout);\n\t\t}\n\t}, {\n\t\tkey: '_runOnTimeoutFunction',\n\t\tvalue: function _runOnTimeoutFunction() {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (this.mounted) {\n\t\t\t\t(function () {\n\t\t\t\t\tvar _props3 = _this3.props;\n\t\t\t\t\tvar onTimeout = _props3.onTimeout;\n\t\t\t\t\tvar onLoaded = _props3.onLoaded;\n\n\t\t\t\t\t_this3.setState({ loaded: true }, function () {\n\t\t\t\t\t\tif (onTimeout) {\n\t\t\t\t\t\t\tonTimeout();\n\t\t\t\t\t\t} else if (onLoaded) {\n\t\t\t\t\t\t\tonLoaded();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onLoadEvent',\n\t\tvalue: function _onLoadEvent() {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (this.mounted) {\n\t\t\t\tthis.setState({ loadCounter: this.state.loadCounter + 1 }, function () {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t_this4._hasBeenFullyAndProperlyLoaded ? _this4._runOnLoadFunction() : null;\n\t\t\t\t\t}, _this4._delay);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_runOnLoadFunction',\n\t\tvalue: function _runOnLoadFunction() {\n\t\t\tvar _this5 = this;\n\n\t\t\tif (this.mounted) {\n\t\t\t\t(function () {\n\t\t\t\t\tvar onLoaded = _this5.props.onLoaded;\n\n\t\t\t\t\t_this5.setState({ loaded: true, timedOut: false }, function () {\n\t\t\t\t\t\tonLoaded ? onLoaded() : null;\n\t\t\t\t\t});\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_depreciatedClassNameHandler',\n\t\tvalue: function _depreciatedClassNameHandler() {\n\t\t\tvar _props4 = this.props;\n\t\t\tvar className = _props4.className;\n\t\t\tvar classNameOnLoaded = _props4.classNameOnLoaded;\n\t\t\tvar classNameOnMount = _props4.classNameOnMount;\n\n\t\t\tif (className) {\n\t\t\t\treturn className;\n\t\t\t} else if (!this.state.loaded) {\n\t\t\t\treturn classNameOnMount;\n\t\t\t} else {\n\t\t\t\treturn classNameOnLoaded;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this6 = this;\n\n\t\t\tif (this.imageLoad && this._hasDefinedClassName) {\n\t\t\t\tthis.imageLoad.className = this._depreciatedClassNameHandler();\n\t\t\t}\n\t\t\treturn _react2['default'].createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\tthis.state.loaded ? null : this.props.placeholder,\n\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ ref: function (ctx) {\n\t\t\t\t\t\t\t_this6.imageLoad = ctx;\n\t\t\t\t\t\t} },\n\t\t\t\t\tthis.props.children\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: '_hasBeenFullyAndProperlyLoaded',\n\t\tget: function get() {\n\t\t\tvar _state = this.state;\n\t\t\tvar loadCounter = _state.loadCounter;\n\t\t\tvar imageCount = _state.imageCount;\n\t\t\tvar loaded = _state.loaded;\n\n\t\t\treturn this.mounted && loadCounter >= imageCount && !loaded;\n\t\t}\n\t}, {\n\t\tkey: '_hasTimedOut',\n\t\tget: function get() {\n\t\t\treturn this.mounted && !this.state.loaded;\n\t\t}\n\t}, {\n\t\tkey: '_hasDefinedClassName',\n\t\tget: function get() {\n\t\t\tvar _props5 = this.props;\n\t\t\tvar classNameOnLoaded = _props5.classNameOnLoaded;\n\t\t\tvar classNameOnMount = _props5.classNameOnMount;\n\t\t\tvar className = _props5.className;\n\n\t\t\treturn !!(classNameOnLoaded || classNameOnMount || className);\n\t\t}\n\t}]);\n\n\treturn OnImagesLoaded;\n})(_react.Component);\n\nexports['default'] = OnImagesLoaded;\n\nOnImagesLoaded.propTypes = {\n\tonTimeout: _propTypes2['default'].func,\n\tonLoaded: _propTypes2['default'].func.isRequired,\n\tdelay: _propTypes2['default'].number,\n\t// depreciated\n\tonDidMount: _propTypes2['default'].func,\n\tonWillMount: _propTypes2['default'].func,\n\tclassNameOnLoaded: _propTypes2['default'].string,\n\tclassNameOnMount: _propTypes2['default'].string,\n\tclassName: _propTypes2['default'].string\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}